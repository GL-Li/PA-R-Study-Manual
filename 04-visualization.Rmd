# Visualization

This sections shows how to create and interpret simple graphs. In past exams, the SOA has provided code for any technical visualizations which are needed. 

## Create a plot object (ggplot)

Let's create a histogram of the claims.  The first step is to create a blank canvas that holds the columns that are needed.  The `aesthetic` argument, `aes`, means that the variable shown will the the claims.

```{r message = F, echo = F}
library(Cairo)
library(tidyverse)
theme_set(theme_bw())
```


```{r message=F}
library(ExamPAData)
p <- insurance %>% ggplot(aes(claims))
```

If we look at `p`, we see that it is nothing but white space with axis for `count` and `income`.

```{r message=F}
p
```

## Add a plot

We add a histogram

```{r warning = F, message=F}
p + geom_histogram()
```

Different plots are called "geoms" for "geometric objects".  Geometry = Geo (space) + metre (measure), and graphs measure data.  For instance, instead of creating a histogram, we can draw a gamma distribution with `stat_density`.

```{r message=F}
p + stat_density()
```

Create an xy plot by adding and `x` and a `y` argument to `aesthetic`.

```{r message=F}
insurance %>% 
  ggplot(aes(x = holders, y = claims)) + 
  geom_point()
```

## Data manipulation chaining

Pipes allow for data manipulations to be chained with visualizations.

```{r message=F}
termlife %>% 
  filter(FACE > 0) %>% 
  mutate(INCOME_AGE_RATIO = INCOME/AGE) %>% 
  ggplot(aes(INCOME_AGE_RATIO, FACE)) + 
  geom_point() + 
  theme_bw()
```

